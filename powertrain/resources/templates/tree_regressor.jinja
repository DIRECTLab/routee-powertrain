{% if tree['left'][i] != tree['right'][i] %}
    if (x[{{ tree['features'][i] }}] <= {{ f.round_inputs(tree['thresholds'][i]) }}) {
        {% with i = tree['left'][i] %}
            {% include 'tree_regressor.jinja' %}
        {% endwith %}
    }
    else {
        {% with i = tree['right'][i] %}
            {% include 'tree_regressor.jinja' %}
        {% endwith %}
    }
{% else %}
    y += {{ f.round_outputs(tree['values'][i].mean()) }};
{% endif %}